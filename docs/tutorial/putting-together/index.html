<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="JIPCAD RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="JIPCAD Atom Feed"><title data-react-helmet="true">Putting It All Together | JIPCAD</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://JIPCAD.github.io/docs/tutorial/putting-together"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Putting It All Together | JIPCAD"><meta data-react-helmet="true" name="description" content="This is an advanced tutorial which assumes you are familiar with most/all commands in JIPCAD and want to stretch your abilities with a challenging test model. To that end, most implementation details will be hidden; the visible section of the dropdown will give you a hint to get started, while revealing the bottom section will provide the germane code."><meta data-react-helmet="true" property="og:description" content="This is an advanced tutorial which assumes you are familiar with most/all commands in JIPCAD and want to stretch your abilities with a challenging test model. To that end, most implementation details will be hidden; the visible section of the dropdown will give you a hint to get started, while revealing the bottom section will provide the germane code."><link data-react-helmet="true" rel="shortcut icon" href="/img/nome.png"><link data-react-helmet="true" rel="canonical" href="https://JIPCAD.github.io/docs/tutorial/putting-together"><link data-react-helmet="true" rel="alternate" href="https://JIPCAD.github.io/docs/tutorial/putting-together" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://JIPCAD.github.io/docs/tutorial/putting-together" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.477e4218.css">
<link rel="preload" href="/assets/js/runtime~main.6c482696.js" as="script">
<link rel="preload" href="/assets/js/main.62158fdc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/nome.png" alt="JIPCAD" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/nome.png" alt="JIPCAD" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">JIPCAD</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/blog">Exhibition</a><a class="navbar__item navbar__link" href="/download">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/JIPCAD/JIPCAD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorial</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/basic-shapes">Basic Shapes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial/putting-together">Putting It All Together</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/developer">Developer Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Compiling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">JIPCAD Language Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/common-include-files">Common Include Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Q&amp;A">Q&amp;A</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SuggestedFeatures">Suggested Features &amp; Known Bugs</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Putting It All Together</h1></header><p>This is an advanced tutorial which assumes you are familiar with most/all commands in JIPCAD and want to stretch your abilities with a challenging test model. To that end, most implementation details will be hidden; the visible section of the dropdown will give you a hint to get started, while revealing the bottom section will provide the germane code.</p><p>We will be making a bell whose clapper swings back and forth, causing lightning to strike outwards whenever it hits the bell&#x27;s edge.</p><p><img alt="bell-side" src="/assets/images/bell-side-1fabecc88f46a481b23dae37548ef834.png"></p><p><img alt="bell-lightning" src="/assets/images/Bell-lightning-2bfb56be25ddacbf5ff62f82ec16b8ee.png"></p><p>As an added challenge, the code provided corresponds to the images above, where the yoke lies parallel to the arc of the clapper. In reality, the yoke should lie perpendicular to the clapper, allowing the bell to swing in response to the impact and cause noise. See if you can implement this for yourself.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="yoke">Yoke<a aria-hidden="true" class="hash-link" href="#yoke" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>The yoke is three rectangles, one thinner rectangle lying horizontal and intersecting the two thicker, vertical rectangles towards their tops. The two vertical rectangles lie at the same elevation. The rectangles are colored with Orange, Zinc, and Brown from the Surfaces file in Common Include Files so that top and bottom are orange, front and back are brown, and left and right are zinc.</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">##############YOKE###############</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq1 (-1 1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq2 (-1 -1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq3 (1 -1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq4 (1 1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mesh cube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">face side (sq1 sq2 sq3 sq4 sq1) endface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endmesh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group halfCube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sCube cube  rotate (1 0 0) (180) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance lid cube translate (0 0 2) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance leftSide cube rotate (1 0 0) (90) translate (0 -1 1) surface O endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group fullCube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sHalfCube halfCube rotate (1 0 1) (180) translate (-1 0 1) surface ZC endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance otherHalf halfCube surface BR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group rotateYoke</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance topYoke fullCube scale(6 1 1/2) translate(0 1/2 -1/2) rotate(1 0 0) (-90) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance leftYoke fullCube scale(1 3 1) translate (-4 -1 -1) rotate(1 0 0) (-90) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance rightYoke fullCube scale(1 3 1) translate (4 -1 -1) rotate(1 0 0) (-90)  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sRotateYoke rotateYoke rotate(0 0 1) (-90) endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="bell">Bell<a aria-hidden="true" class="hash-link" href="#bell" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><p>The top portion of the bell is an implicit paraboloid, the bottom curve is an implicit hyperboloid, the bottom ring is a torus, and the small cap at the top is a simple cylinder. They are all grey, and fit under the yoke so that a small portion of the bell intersects with all three inner faces of the yoke.</p></summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">############BELL##############</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genimplicitsurf LibBell func [-(z^2)+((1.25x)^2)+((1.25y)^2)-20] (-10 10 -10 10 0 10  30 30 30) endgenimplicitsurf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sBellCup LibBell translate (0 0 3) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genimplicitsurf bellTop func [-z+((x/sqrt(4.25))^2)+((y/sqrt(4.25))^2)] (-10 10 -10 10 -3 3 30 30 30) endgenimplicitsurf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sBellTop bellTop surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">torus bellLip (8.57904423581 (8.94427191-8.57904423581)*2 360 0 360 30 30) endtorus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sBellLip bellLip translate (0 0 13 ) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cylinder topCapper (0.75 0.55 360 30 botcap topcap) endcylinder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sTopCapper topCapper surface GR endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="clapper">Clapper<a aria-hidden="true" class="hash-link" href="#clapper" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>The clapper is a cylinder with a ball on the end. At the clapper&#x27;s top, it should connect with the bottom of the bell&#x27;s cap, while the clapper&#x27;s bottom should extend below the torus of the bell.</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">##############STRIKING CYLINDER#########</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cylinder clapperStalk (0.75 15 360 30 botcap topcap) endcylinder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperStalk clapperStalk translate(0 0 0.5) rotate(? ? ?) (?) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sphere clapperEnd (1.25 360 -90 90 30 30) endsphere</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperEnd clapperEnd translate(0 0 15.5) rotate(? ? ?) (?) surface GR endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="clapper-movement">Clapper Movement<a aria-hidden="true" class="hash-link" href="#clapper-movement" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><p>The clapper should constantly swing along one axis--preferrably perpendicular to the yoke--along a pendulum arc, i.e. slow at the end of the swing, fast in the middle. The clapper should strike the bell at the apex of its swing but should not poke through any part of the bell.</p></summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">##############STRIKING CYLINDER#########</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cylinder clapperStalk (0.75 15 360 30 botcap topcap) endcylinder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperStalk clapperStalk translate(0 0 0.5) rotate(1 0 0) (27.5*cos($time)) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sphere clapperEnd (1.25 360 -90 90 30 30) endsphere</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperEnd clapperEnd translate(0 0 15.5) rotate(1 0 0) (27.5*cos($time)) surface GR endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="building-lightning">Building Lightning<a aria-hidden="true" class="hash-link" href="#building-lightning" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><p>We want two lightning bolts, one on either side of the bell at the position where clapper strikes the torus, pointing straight outwards. Lightning bolts should be thin at the tips and thin at the middle. Any construction or design will do; the code provided uses a Sweep Morph. Lightning bolts are yellow.</p></summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#############LIGHTNING BOLTS############</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb1 (5 0 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb2 (-5 0 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb3 (0 1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb4 (0 -1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">circle circ (1 {expr par.boltSegs}) endcircle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb1  point lb1  scale (0.05 0.05 0.05) rotate (0 0 0) crosssection circ endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb2 point lb2 scale(0.05 0.05 0.05) endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb3 point lb3 scale(0.65 0.5 0.5) endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb4 point lb4 scale(0.65 0.5 0.5)  endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">polyline lightning (clb2 clb4 clb3 clb1) endpolyline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sweepmorph lightningBolt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    begincap endcap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path  lightning mintorsion azimuth 0 twist 0  endpath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endsweepmorph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group oneLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(? ? ?) translate (0 -15 13) surface Y  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group flippedLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(? ? ?) rotate(1 0 0) (180) translate (0 15 13) surface Y  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Negative Y (left-hand) bolt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance lLB1 oneLB  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Positive Y (right-hand) bolt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance rLB1 flippedLB  endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="lightning-behavior">Lightning Behavior<a aria-hidden="true" class="hash-link" href="#lightning-behavior" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><p>We want the lightning bolt to very rapidly expand to full size when the clapper nears (and then strikes) the bell, and to shrink to an infintesimally small point when the clapper moves backwards. Hint: what kind of function mimics the movement of the clapper? The blog post on Striking Bell gives nearly the whole answer if you get stuck.</p></summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">group oneLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(cos(($time)/2)^128 cos(($time)/2)^128 1) translate (0 -15 13) surface Y  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group flippedLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(sin(($time)/2)^128 sin(($time)/2)^128 1) rotate(1 0 0) (180) translate (0 15 13) surface Y  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="accoutrements">Accoutrements<a aria-hidden="true" class="hash-link" href="#accoutrements" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><p>Add a speed parameter which makes the clapper swing faster and similarly effects when the lightning bolts appear. Note this requires editing in several places.</p></summary><div><div class="collapsibleContent_3OHp"><p>#1:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">bank par</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set speed 1 0 40 0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set boltSegs 4 3 100 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list(speed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endbank</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>#2:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperStalk clapperStalk translate(0 0 0.5) rotate(1 0 0) (27.5*cos($time*{expr par.speed})) surface GR endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>#3:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperEnd clapperEnd translate(0 0 15.5) rotate(1 0 0) (27.5*cos($time*{expr par.speed})) surface GR endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>#4:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(cos(($time*{expr par.speed})/2)^128 cos(($time*{expr par.speed})/2)^128 1) translate (0 -15 13) surface Y  endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>#5:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(sin(($time*{expr par.speed})/2)^128 sin(($time*{expr par.speed})/2)^128 1) rotate(1 0 0) (180) translate (0 15 13) surface Y  endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>Congratulations! Finishing this bell is no small task. The full code of the example is pasted in the dropdown below.</p><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><p>Full code for Striking Bell.</p></summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">include z_inclSurfaces.nom endinclude</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bank par</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set speed 1 0 40 0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set boltSegs 4 3 100 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list(speed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endbank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">##############YOKE###############</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq1 (-1 1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq2 (-1 -1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq3 (1 -1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point sq4 (1 1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mesh cube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">face side (sq1 sq2 sq3 sq4 sq1) endface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endmesh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group halfCube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sCube cube  rotate (1 0 0) (180) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance lid cube translate (0 0 2) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance leftSide cube rotate (1 0 0) (90) translate (0 -1 1) surface O endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group fullCube</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sHalfCube halfCube rotate (1 0 1) (180) translate (-1 0 1) surface ZC endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance otherHalf halfCube surface BR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group rotateYoke</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance topYoke fullCube scale(6 1 1/2) translate(0 1/2 -1/2) rotate(1 0 0) (-90) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance leftYoke fullCube scale(1 3 1) translate (-4 -1 -1) rotate(1 0 0) (-90) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance rightYoke fullCube scale(1 3 1) translate (4 -1 -1) rotate(1 0 0) (-90)  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sRotateYoke rotateYoke rotate(0 0 1) (-90) endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############BELL##############</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genimplicitsurf LibBell func [-(z^2)+((1.25x)^2)+((1.25y)^2)-20] (-10 10 -10 10 0 10  30 30 30) endgenimplicitsurf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sBellCup LibBell translate (0 0 3) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">genimplicitsurf bellTop func [-z+((x/sqrt(4.25))^2)+((y/sqrt(4.25))^2)] (-10 10 -10 10 -3 3 30 30 30) endgenimplicitsurf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sBellTop bellTop surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">torus bellLip (8.57904423581 (8.94427191-8.57904423581)*2 360 0 360 30 30) endtorus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sBellLip bellLip translate (0 0 13 ) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cylinder topCapper (0.75 0.55 360 30 botcap topcap) endcylinder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sTopCapper topCapper surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">##############STRIKING CYLINDER#########</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cylinder clapperStalk (0.75 15 360 30 botcap topcap) endcylinder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperStalk clapperStalk translate(0 0 0.5) rotate(1 0 0) (27.5*cos($time*{expr par.speed})) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sphere clapperEnd (1.25 360 -90 90 30 30) endsphere</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sClapperEnd clapperEnd translate(0 0 15.5) rotate(1 0 0) (27.5*cos($time*{expr par.speed})) surface GR endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#############LIGHTNING BOLTS############</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb1 (5 0 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb2 (-5 0 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb3 (0 1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">point lb4 (0 -1 0) endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">circle circ (1 {expr par.boltSegs}) endcircle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb1  point lb1  scale (0.05 0.05 0.05) rotate (0 0 0) crosssection circ endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb2 point lb2 scale(0.05 0.05 0.05) endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb3 point lb3 scale(0.65 0.5 0.5) endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controlpoint clb4 point lb4 scale(0.65 0.5 0.5)  endcontrolpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">polyline lightning (clb2 clb4 clb3 clb1) endpolyline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sweepmorph lightningBolt </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    begincap endcap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path  lightning mintorsion azimuth 0 twist 0  endpath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endsweepmorph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group oneLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(cos(($time*{expr par.speed})/2)^128 cos(($time*{expr par.speed})/2)^128 1) translate (0 -15 13) surface Y  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">group flippedLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance sLightningBolt lightningBolt rotate(0 0 1) (90) scale(sin(($time*{expr par.speed})/2)^128 sin(($time*{expr par.speed})/2)^128 1) rotate(1 0 0) (180) translate (0 15 13) surface Y  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Negative Y (left-hand) group </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance lLB1 oneLB  endinstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Positive Y (right-hand) group </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance rLB1 flippedLB  endinstance</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/JIPCAD/JIPCAD/docs/tutorial/putting-together.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorial/basic-shapes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Basic Shapes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorial/developer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Developer Guide<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#yoke" class="table-of-contents__link toc-highlight">Yoke</a></li><li><a href="#bell" class="table-of-contents__link toc-highlight">Bell</a></li><li><a href="#clapper" class="table-of-contents__link toc-highlight">Clapper</a></li><li><a href="#clapper-movement" class="table-of-contents__link toc-highlight">Clapper Movement</a></li><li><a href="#building-lightning" class="table-of-contents__link toc-highlight">Building Lightning</a></li><li><a href="#lightning-behavior" class="table-of-contents__link toc-highlight">Lightning Behavior</a></li><li><a href="#accoutrements" class="table-of-contents__link toc-highlight">Accoutrements</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/user">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lang-ref/configuration">Language Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/compiling/mac">Compiling</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://nomedevelopment.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Exhibition</a></li><li class="footer__item"><a href="https://github.com/JIPCAD/JIPCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/JIPCAD/JIPCAD.github.io/wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Editor&#x27;s Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 JIPCAD Project, UC Berkeley.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6c482696.js"></script>
<script src="/assets/js/main.62158fdc.js"></script>
</body>
</html>